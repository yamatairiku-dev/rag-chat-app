# ================================
# Azure App Service設定
# ================================
NODE_ENV=production
PORT=8080

# ================================
# Microsoft Entra ID (旧 Azure AD)
# ================================
ENTRA_CLIENT_ID=xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx
ENTRA_CLIENT_SECRET=your-client-secret-here
ENTRA_TENANT_ID=xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx
ENTRA_REDIRECT_URI=https://your-app.azurewebsites.net/auth
ENTRA_POST_LOGOUT_REDIRECT_URI=https://your-app.azurewebsites.net
ENTRA_AUTHORITY=https://login.microsoftonline.com

# ================================
# Microsoft Graph API
# ================================
GRAPH_API_URL=https://graph.microsoft.com/v1.0
GRAPH_API_SCOPE=https://graph.microsoft.com/.default
# 所属コードを含むグループ名のプレフィックス
# 例: グループ名が "DEPT_001_営業部" の場合、001が所属コード
GRAPH_DEPARTMENT_GROUP_PREFIX=DEPT_

# ================================
# Dify API
# ================================
DIFY_API_URL=http://localhost:8000/v1
DIFY_API_KEY=app-xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
DIFY_TIMEOUT=30000
DIFY_MAX_RETRIES=3

# ================================
# セッション管理
# ================================
# 32文字以上のランダムな文字列を生成してください
# 生成方法: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
SESSION_SECRET=your-session-secret-minimum-32-characters-long
SESSION_MAX_AGE=86400000
SESSION_RESET_HOUR=0
SESSION_STORAGE=memory

# ================================
# Cookie設定
# ================================
COOKIE_DOMAIN=.your-domain.com
COOKIE_SECURE=true
COOKIE_SAME_SITE=lax
COOKIE_HTTP_ONLY=true

# ================================
# ログ設定
# ================================
LOG_LEVEL=info
LOG_DIRECTORY=./logs
LOG_MAX_FILES=30

# ================================
# パフォーマンス設定
# ================================
MAX_MESSAGE_LENGTH=2000
RATE_LIMIT_WINDOW_MS=60000
RATE_LIMIT_MAX_REQUESTS=30
