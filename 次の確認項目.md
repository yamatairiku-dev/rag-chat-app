# 次の確認項目

**作成日**: 2025年12月5日  
**現在の状況**: ログアウト機能の修正完了、基本動作確認済み

---

## ✅ 完了した確認項目

- [x] ログインページの表示
- [x] 認証機能（ログイン）
- [x] ログアウト機能（修正完了）

---

## 🎯 次の確認項目（優先順位順）

### 優先度: 高 🔴

#### 1. チャット機能の動作確認（15-20分）

**確認項目**:
- [ ] **メッセージ送信**
  - チャット入力欄にメッセージを入力できる
  - 「送信」ボタンをクリックできる
  - メッセージが正しく表示される

- [ ] **ストリーミング応答**
  - アシスタントの応答が段階的に表示される（ストリーミング形式）
  - ストリーミング中のインジケーター（▋）が表示される
  - 応答が完了するとインジケーターが消える
  - 応答の内容が正しい

- [ ] **会話履歴**
  - 複数のメッセージを送信できる
  - 会話履歴が正しく保持される
  - ページをリロードしても会話履歴が保持される

**確認方法**:
1. チャット画面で複数のメッセージを送信
2. ストリーミング応答が正常に受信されることを確認
3. ページをリロードして会話履歴が保持されることを確認

---

#### 2. エラーハンドリングの確認（10-15分）

**確認項目**:
- [ ] **ネットワークエラー時の動作**
  - ブラウザの開発者ツール（F12）でネットワークを無効化
  - メッセージを送信
  - エラーメッセージが適切に表示される
  - 「再試行」ボタンが表示される

- [ ] **リトライ機能**
  - エラーが発生したメッセージに「再試行」ボタンが表示される
  - 「再試行」ボタンをクリック
  - メッセージが再送信される
  - 再送信が成功する

- [ ] **エラーメッセージの表示**
  - エラーメッセージが日本語で表示される
  - エラーメッセージが分かりやすい

**確認方法**:
1. ブラウザの開発者ツール（F12）を開く
2. Networkタブで「Disable cache」を有効化
3. ネットワークを「Offline」に設定
4. メッセージを送信してエラーハンドリングを確認
5. ネットワークを復元して「再試行」ボタンをクリック

---

#### 3. UI/UXの確認（10-15分）

**確認項目**:
- [ ] **レスポンシブデザイン**
  - ブラウザのウィンドウサイズを変更
  - モバイルサイズ（375px）で表示が適切であることを確認
  - タブレットサイズ（768px）で表示が適切であることを確認
  - デスクトップサイズ（1920px）で表示が適切であることを確認

- [ ] **アクセシビリティ**
  - Tabキーでフォーカスが移動することを確認
  - Enterキーでメッセージを送信できることを確認
  - キーボード操作で全機能が使用できることを確認

- [ ] **ローディング状態**
  - メッセージ送信中に「送信中…」が表示される
  - ストリーミング中にインジケーターが表示される

**確認方法**:
1. ブラウザのウィンドウサイズを変更してレスポンシブデザインを確認
2. キーボード操作でアクセシビリティを確認

---

### 優先度: 中 🟡

#### 4. パフォーマンスの確認（10-15分）

**確認項目**:
- [ ] **初回ロード時間**
  - ブラウザの開発者ツール（F12）を開く
  - Networkタブを開く
  - ページをリロード（Ctrl+R / Cmd+R）
  - 初回ロード時間を確認（目標: 3秒以内）

- [ ] **APIレスポンスタイム**
  - NetworkタブでAPIリクエストを確認
  - `/api/chat-stream`のレスポンスタイムを確認（目標: 2秒以内）

- [ ] **メモリ使用量**
  - Performanceタブを開く
  - 「Record」ボタンをクリック
  - 数回メッセージを送信
  - 「Stop」ボタンをクリック
  - メモリリークがないことを確認

**確認方法**:
1. ブラウザの開発者ツール（F12）を開く
2. NetworkタブとPerformanceタブでパフォーマンスを確認

---

#### 5. ブラウザ互換性の確認（15-20分）

**確認項目**:
- [ ] **Chrome/Edge**
  - 正常に動作することを確認

- [ ] **Firefox**
  - 正常に動作することを確認（可能な場合）

- [ ] **Safari**
  - 正常に動作することを確認（可能な場合）

**確認方法**:
1. 異なるブラウザでアプリケーションにアクセス
2. 基本機能が正常に動作することを確認

---

#### 6. セキュリティの確認（10-15分）

**確認項目**:
- [ ] **セッション管理**
  - ログアウト後、セッションが正しく削除される
  - セッションが切れた場合、ログインページにリダイレクトされる

- [ ] **Cookie設定**
  - ブラウザの開発者ツール（F12）でCookieを確認
  - `HttpOnly`が設定されていることを確認
  - `Secure`が設定されていることを確認（HTTPS環境の場合）

- [ ] **XSS対策**
  - メッセージにスクリプトタグを入力して送信
  - スクリプトが実行されないことを確認

**確認方法**:
1. ブラウザの開発者ツール（F12）でCookieを確認
2. セッション管理の動作を確認

---

### 優先度: 低 🟢

#### 7. E2Eテストの実行（5-10分）

**確認項目**:
- [ ] **E2Eテストの実行**
  - `npm run test:e2e`を実行
  - すべてのE2Eテストが成功することを確認

**確認方法**:
```bash
npm run test:e2e
```

---

#### 8. ログの確認（5-10分）

**確認項目**:
- [ ] **サーバーログの確認**
  - 開発サーバーのコンソールでログを確認
  - エラーログが記録されている
  - アクセスログが記録されている

- [ ] **ブラウザコンソールの確認**
  - ブラウザの開発者ツール（F12）でコンソールを確認
  - エラーがないことを確認
  - 警告がないことを確認

**確認方法**:
1. 開発サーバーのコンソールでログを確認
2. ブラウザの開発者ツール（F12）でコンソールを確認

---

## 📋 確認結果の記録テンプレート

確認が完了したら、以下を記録してください：

```markdown
## 動作確認結果

**確認日**: YYYY-MM-DD
**確認者**: [名前]
**環境**: 開発環境

### チャット機能
- [x] メッセージ送信: ✅
- [x] ストリーミング応答: ✅
- [x] 会話履歴: ✅

### エラーハンドリング
- [x] ネットワークエラー: ✅
- [x] リトライ機能: ✅

### UI/UX
- [x] レスポンシブデザイン: ✅
- [x] アクセシビリティ: ✅

### パフォーマンス
- 初回ロード時間: [秒]
- APIレスポンスタイム: [秒]

### 問題点
（問題があれば記載）

### 次のアクション
（必要に応じて記載）
```

---

## 🚀 推奨される確認順序

1. **チャット機能の動作確認**（最優先）
2. **エラーハンドリングの確認**
3. **UI/UXの確認**
4. **パフォーマンスの確認**
5. **セキュリティの確認**
6. **E2Eテストの実行**

---

## 📝 関連ドキュメント

- [開発環境動作確認手順](./docs/16_開発環境動作確認手順.md)
- [動作確認ガイド](./動作確認ガイド.md)
- [トラブルシューティング](./docs/13_トラブルシューティング.md)

---

**最終更新**: 2025年12月5日

